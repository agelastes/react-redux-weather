{"ast":null,"code":"import _classCallCheck from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/agelastes/Code/app1/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      name: null,\n      id: 0,\n      temp: null,\n      data: []\n    };\n\n    _this.inputRead = function (e) {\n      _this.setState({\n        name: e.target.value\n      });\n    };\n\n    _this.requestCity = function () {\n      _this.setState({\n        loading: true\n      });\n\n      fetch('http://api.openweathermap.org/data/2.5/weather?q=' + _this.state.name + '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric').then(function (Response) {\n        return Response.json();\n      }).then(function (Response) {\n        _this.setState({\n          temp: Response.main.temp\n        });\n\n        _this.setState({\n          loading: false\n        });\n\n        _this.data.push({\n          name: _this.state.name,\n          temp: _this.state.temp\n        });\n\n        console.log(_this.data[_this.state.id]);\n\n        _this.setState({\n          id: _this.state.id + 1\n        });\n      });\n    };\n\n    _this.clearDashboard = function () {\n      _this.data = [];\n      _this.refs.inputCity.value = \"\";\n\n      _this.setState({\n        id: 0\n      });\n\n      _this.setState({\n        temp: null\n      });\n\n      _this.setState({\n        name: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      if (this.temp === null && this.state.loading) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          onChange: this.inputRead,\n          ref: \"inputCity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",\n          onClick: this.requestCity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\",\n          onClick: this.clearDashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }), React.createElement(WeatherList, {\n          data: this.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/agelastes/Code/app1/src/App.js"],"names":["React","Component","WeatherList","App","state","loading","name","id","temp","data","inputRead","e","setState","target","value","requestCity","fetch","then","Response","json","main","push","console","log","clearDashboard","refs","inputCity"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAKMC,G;;;;;;;;;;;;;;;;;UAGJC,K,GAAQ;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,IAAI,EAAE,IAFF;AAGJC,MAAAA,EAAE,EAAE,CAHA;AAIJC,MAAAA,IAAI,EAAE,IAJF;AAKJC,MAAAA,IAAI,EAAE;AALF,K;;UAQRC,S,GAAY,UAACC,CAAD,EAAO;AACjB,YAAKC,QAAL,CAAc;AAACN,QAAAA,IAAI,EAAEK,CAAC,CAACE,MAAF,CAASC;AAAhB,OAAd;AACD,K;;UAEDC,W,GAAc,YAAM;AAClB,YAAKH,QAAL,CAAc;AAACP,QAAAA,OAAO,EAAE;AAAV,OAAd;;AAEAW,MAAAA,KAAK,CAAC,sDACA,MAAKZ,KAAL,CAAWE,IADX,GAEF,sDAFC,CAAL,CAGKW,IAHL,CAGU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAHV,EAIKF,IAJL,CAIU,UAACC,QAAD,EACN;AACE,cAAKN,QAAL,CAAc;AAACJ,UAAAA,IAAI,EAAEU,QAAQ,CAACE,IAAT,CAAcZ;AAArB,SAAd;;AACA,cAAKI,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAE;AAAV,SAAd;;AACA,cAAKI,IAAL,CAAUY,IAAV,CAAe;AAACf,UAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAAlB;AAAwBE,UAAAA,IAAI,EAAE,MAAKJ,KAAL,CAAWI;AAAzC,SAAf;;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKd,IAAL,CAAU,MAAKL,KAAL,CAAWG,EAArB,CAAZ;;AACA,cAAKK,QAAL,CAAc;AAACL,UAAAA,EAAE,EAAE,MAAKH,KAAL,CAAWG,EAAX,GAAgB;AAArB,SAAd;AACD,OAXL;AAaD,K;;UAEDiB,c,GAAiB,YAAM;AAErB,YAAKf,IAAL,GAAY,EAAZ;AACA,YAAKgB,IAAL,CAAUC,SAAV,CAAoBZ,KAApB,GAA4B,EAA5B;;AACA,YAAKF,QAAL,CAAc;AAACL,QAAAA,EAAE,EAAE;AAAL,OAAd;;AACA,YAAKK,QAAL,CAAc;AAACJ,QAAAA,IAAI,EAAE;AAAP,OAAd;;AACA,YAAKI,QAAL,CAAc;AAACN,QAAAA,IAAI,EAAE;AAAP,OAAd;AAED,K;;;;;;;6BAIQ;AACP,UAAK,KAAKE,IAAL,KAAc,IAAf,IAAyB,KAAKJ,KAAL,CAAWC,OAAxC,EACA;AACE,eAAO,IAAP;AACD,OAHD,MAKA;AACE,eACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,QAAQ,EAAE,KAAKK,SAAtB;AAAiC,UAAA,GAAG,EAAG,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAIE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,wDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKK,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,EAOE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,kDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKS,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAUE,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAI,KAAKf,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF,CADJ;AAeD;AACF;;;;EApEeR,S;;AAyElB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\n\n\n\nclass App extends Component {\n\n\n  state = {\n      loading: false,\n      name: null,\n      id: 0,\n      temp: null,\n      data: []\n  };\n\n  inputRead = (e) => {\n    this.setState({name: e.target.value});\n  };\n\n  requestCity = () => {\n    this.setState({loading: true});\n\n    fetch('http://api.openweathermap.org/data/2.5/weather?q='\n        + this.state.name +\n        '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric')\n        .then((Response) => Response.json())\n        .then((Response) =>\n        {\n          this.setState({temp: Response.main.temp});\n          this.setState({loading: false});\n          this.data.push({name: this.state.name, temp: this.state.temp});\n          console.log(this.data[this.state.id]);\n          this.setState({id: this.state.id + 1});\n        });\n\n  };\n\n  clearDashboard = () => {\n\n    this.data = [];\n    this.refs.inputCity.value = \"\";\n    this.setState({id: 0});\n    this.setState({temp: null});\n    this.setState({name: null});\n\n  };\n\n\n\n  render() {\n    if ((this.temp === null) && (this.state.loading))\n    {\n      return null;\n    }\n    else\n    {\n      return (\n          <div className=\"App\">\n            <input onChange={this.inputRead} ref = \"inputCity\">\n\n            </input>\n            <input type = \"Button\" value=\"отправить\" onClick={this.requestCity}>\n            </input>\n\n            <input type = \"Button\" value=\"очистить\"  onClick={this.clearDashboard}>\n            </input>\n\n            <WeatherList data = {this.data}/>\n\n          </div>\n      );\n    }\n  }\n\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}