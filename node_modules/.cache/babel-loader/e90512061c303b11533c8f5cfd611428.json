{"ast":null,"code":"import _toConsumableArray from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/agelastes/Code/app1/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      name: null,\n      temp: null,\n      id: null,\n      dataCity: []\n    };\n\n    _this.inputRead = function (e) {\n      _this.setState({\n        name: e.target.value\n      });\n    };\n\n    _this.requestCity = function () {\n      _this.setState({\n        loading: true\n      });\n\n      fetch('http://api.openweathermap.org/data/2.5/weather?q=' + _this.state.name + '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var data = [].concat(_toConsumableArray(_this.state.dataCity), [[{\n          name: _this.state.name,\n          temp: response.main.temp,\n          id: response.id\n        }]]);\n\n        _this.setState({\n          dataCity: data,\n          temp: response.main.temp,\n          loading: false,\n          id: response.id\n        });\n      });\n    };\n\n    _this.clearDashboard = function () {\n      _this.setState({\n        dataCity: [],\n        name: null,\n        temp: null,\n        loading: false\n      });\n\n      _this.refs.inputCity.value = \"\";\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      if (this.temp === null && this.state.loading) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          onChange: this.inputRead,\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430\",\n          ref: \"inputCity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",\n          onClick: this.requestCity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\",\n          onClick: this.clearDashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(WeatherList, {\n          data: this.state.dataCity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/agelastes/Code/app1/src/App.js"],"names":["React","Component","WeatherList","App","state","loading","name","temp","id","dataCity","inputRead","e","setState","target","value","requestCity","fetch","then","response","json","data","main","clearDashboard","refs","inputCity"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAKMC,G;;;;;;;;;;;;;;;;;UAGJC,K,GAAQ;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,IAAI,EAAE,IAFF;AAGJC,MAAAA,IAAI,EAAE,IAHF;AAIJC,MAAAA,EAAE,EAAE,IAJA;AAKJC,MAAAA,QAAQ,EAAE;AALN,K;;UAQRC,S,GAAY,UAACC,CAAD,EAAO;AACjB,YAAKC,QAAL,CAAc;AAACN,QAAAA,IAAI,EAAEK,CAAC,CAACE,MAAF,CAASC;AAAhB,OAAd;AACD,K;;UAEDC,W,GAAc,YAAM;AAClB,YAAKH,QAAL,CAAc;AAACP,QAAAA,OAAO,EAAE;AAAV,OAAd;;AAEAW,MAAAA,KAAK,CAAC,sDACA,MAAKZ,KAAL,CAAWE,IADX,GAEF,sDAFC,CAAL,CAGKW,IAHL,CAGU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAHV,EAIKF,IAJL,CAIU,UAACC,QAAD,EACN;AAEE,YAAME,IAAI,gCAAO,MAAKhB,KAAL,CAAWK,QAAlB,IAA4B,CAAC;AAACH,UAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAAlB;AAAwBC,UAAAA,IAAI,EAAEW,QAAQ,CAACG,IAAT,CAAcd,IAA5C;AAAkDC,UAAAA,EAAE,EAAEU,QAAQ,CAACV;AAA/D,SAAD,CAA5B,EAAV;;AACA,cAAKI,QAAL,CAAc;AAACH,UAAAA,QAAQ,EAAEW,IAAX;AAAiBb,UAAAA,IAAI,EAAEW,QAAQ,CAACG,IAAT,CAAcd,IAArC;AAA2CF,UAAAA,OAAO,EAAE,KAApD;AAA2DG,UAAAA,EAAE,EAAEU,QAAQ,CAACV;AAAxE,SAAd;AAED,OAVL;AAYD,K;;UAEDc,c,GAAiB,YAAM;AAEnB,YAAKV,QAAL,CAAc;AAACH,QAAAA,QAAQ,EAAE,EAAX;AAAeH,QAAAA,IAAI,EAAE,IAArB;AAA2BC,QAAAA,IAAI,EAAE,IAAjC;AAAuCF,QAAAA,OAAO,EAAE;AAAhD,OAAd;;AACA,YAAKkB,IAAL,CAAUC,SAAV,CAAoBV,KAApB,GAA4B,EAA5B;AAEH,K;;;;;;;6BAIQ;AACP,UAAK,KAAKP,IAAL,KAAc,IAAf,IAAyB,KAAKH,KAAL,CAAWC,OAAxC,EACA;AACE,eAAO,IAAP;AACD,OAHD,MAKA;AACE,eACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,QAAQ,EAAE,KAAKK,SAAtB;AAAiC,UAAA,WAAW,EAAG,kIAA/C;AAAyE,UAAA,GAAG,EAAG,WAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAIE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,wDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKK,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,EAOE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,kDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKO,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAUE,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAI,KAAKlB,KAAL,CAAWK,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF,CADJ;AAeD;AACF;;;;EAhEeR,S;;AAqElB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\n\n\n\nclass App extends Component {\n\n\n  state = {\n      loading: false,\n      name: null,\n      temp: null,\n      id: null,\n      dataCity: []\n  };\n\n  inputRead = (e) => {\n    this.setState({name: e.target.value});\n  };\n\n  requestCity = () => {\n    this.setState({loading: true});\n\n    fetch('http://api.openweathermap.org/data/2.5/weather?q='\n        + this.state.name +\n        '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric')\n        .then((response) => response.json())\n        .then((response) =>\n        {\n\n          const data = [...this.state.dataCity, [{name: this.state.name, temp: response.main.temp, id: response.id}]];\n          this.setState({dataCity: data, temp: response.main.temp, loading: false, id: response.id});\n\n        });\n\n  };\n\n  clearDashboard = () => {\n\n      this.setState({dataCity: [], name: null, temp: null, loading: false});\n      this.refs.inputCity.value = \"\";\n\n  };\n\n\n\n  render() {\n    if ((this.temp === null) && (this.state.loading))\n    {\n      return null;\n    }\n    else\n    {\n      return (\n          <div className=\"App\">\n            <input onChange={this.inputRead} placeholder = \"Введите название города\" ref = \"inputCity\">\n\n            </input>\n            <input type = \"Button\" value=\"отправить\" onClick={this.requestCity}>\n            </input>\n\n            <input type = \"Button\" value=\"очистить\"  onClick={this.clearDashboard}>\n            </input>\n\n            <WeatherList data = {this.state.dataCity}/>\n\n          </div>\n      );\n    }\n  }\n\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}