{"ast":null,"code":"import _classCallCheck from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/agelastes/Code/app1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/agelastes/Code/app1/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      name: null,\n      temp: null,\n      data: []\n    };\n\n    _this.inputRead = function (e) {\n      _this.setState({\n        name: e.target.value\n      });\n    };\n\n    _this.requestCity = function () {\n      _this.setState({\n        loading: true\n      });\n\n      fetch('http://api.openweathermap.org/data/2.5/weather?q=' + _this.state.name + '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this.setState({\n          temp: response.main.temp\n        });\n\n        _this.setState({\n          loading: false\n        });\n\n        var data = _this.state.data.concat({\n          name: _this.state.name,\n          temp: _this.state.temp\n        });\n\n        _this.setState({\n          data: data\n        }); // this.data.push({name: this.state.name, temp: this.state.temp});\n        // console.log(this.data[this.state.id]);\n\n      });\n    };\n\n    _this.clearDashboard = function () {\n      _this.data = [];\n      _this.refs.inputCity.value = \"\";\n\n      _this.setState({\n        id: 0\n      });\n\n      _this.setState({\n        temp: null\n      });\n\n      _this.setState({\n        name: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      if (this.temp === null && this.state.loading) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          onChange: this.inputRead,\n          ref: \"inputCity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",\n          onClick: this.requestCity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"Button\",\n          value: \"\\u043E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\",\n          onClick: this.clearDashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }), React.createElement(WeatherList, {\n          data: this.state.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/agelastes/Code/app1/src/App.js"],"names":["React","Component","WeatherList","App","state","loading","name","temp","data","inputRead","e","setState","target","value","requestCity","fetch","then","response","json","main","concat","clearDashboard","refs","inputCity","id"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAKMC,G;;;;;;;;;;;;;;;;;UAGJC,K,GAAQ;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,IAAI,EAAE,IAFF;AAGJC,MAAAA,IAAI,EAAE,IAHF;AAIJC,MAAAA,IAAI,EAAE;AAJF,K;;UAORC,S,GAAY,UAACC,CAAD,EAAO;AACjB,YAAKC,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAEI,CAAC,CAACE,MAAF,CAASC;AAAhB,OAAd;AACD,K;;UAEDC,W,GAAc,YAAM;AAClB,YAAKH,QAAL,CAAc;AAACN,QAAAA,OAAO,EAAE;AAAV,OAAd;;AAEAU,MAAAA,KAAK,CAAC,sDACA,MAAKX,KAAL,CAAWE,IADX,GAEF,sDAFC,CAAL,CAGKU,IAHL,CAGU,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAHV,EAIKF,IAJL,CAIU,UAACC,QAAD,EACN;AACE,cAAKN,QAAL,CAAc;AAACJ,UAAAA,IAAI,EAAEU,QAAQ,CAACE,IAAT,CAAcZ;AAArB,SAAd;;AACA,cAAKI,QAAL,CAAc;AAACN,UAAAA,OAAO,EAAE;AAAV,SAAd;;AACA,YAAMG,IAAI,GAAG,MAAKJ,KAAL,CAAWI,IAAX,CAAgBY,MAAhB,CAAuB;AAACd,UAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAAlB;AAAwBC,UAAAA,IAAI,EAAE,MAAKH,KAAL,CAAWG;AAAzC,SAAvB,CAAb;;AACA,cAAKI,QAAL,CAAc;AAACH,UAAAA,IAAI,EAAEA;AAAP,SAAd,EAJF,CAKC;AACA;;AACA,OAZL;AAcD,K;;UAEDa,c,GAAiB,YAAM;AAErB,YAAKb,IAAL,GAAY,EAAZ;AACA,YAAKc,IAAL,CAAUC,SAAV,CAAoBV,KAApB,GAA4B,EAA5B;;AACA,YAAKF,QAAL,CAAc;AAACa,QAAAA,EAAE,EAAE;AAAL,OAAd;;AACA,YAAKb,QAAL,CAAc;AAACJ,QAAAA,IAAI,EAAE;AAAP,OAAd;;AACA,YAAKI,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAE;AAAP,OAAd;AAED,K;;;;;;;6BAIQ;AACP,UAAK,KAAKC,IAAL,KAAc,IAAf,IAAyB,KAAKH,KAAL,CAAWC,OAAxC,EACA;AACE,eAAO,IAAP;AACD,OAHD,MAKA;AACE,eACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAO,UAAA,QAAQ,EAAE,KAAKI,SAAtB;AAAiC,UAAA,GAAG,EAAG,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAIE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,wDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKK,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,EAOE;AAAO,UAAA,IAAI,EAAG,QAAd;AAAuB,UAAA,KAAK,EAAC,kDAA7B;AAAyC,UAAA,OAAO,EAAE,KAAKO,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAUE,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAI,KAAKjB,KAAL,CAAWI,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF,CADJ;AAeD;AACF;;;;EApEeP,S;;AAyElB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport WeatherList from './WeatherList';\n\n\n\n\nclass App extends Component {\n\n\n  state = {\n      loading: false,\n      name: null,\n      temp: null,\n      data: []\n  };\n\n  inputRead = (e) => {\n    this.setState({name: e.target.value});\n  };\n\n  requestCity = () => {\n    this.setState({loading: true});\n\n    fetch('http://api.openweathermap.org/data/2.5/weather?q='\n        + this.state.name +\n        '&appid=8e3145fe3bc2e2e42c29a6c323b46d41&units=metric')\n        .then((response) => response.json())\n        .then((response) =>\n        {\n          this.setState({temp: response.main.temp});\n          this.setState({loading: false});\n          const data = this.state.data.concat({name: this.state.name, temp: this.state.temp})\n          this.setState({data: data});\n         // this.data.push({name: this.state.name, temp: this.state.temp});\n         // console.log(this.data[this.state.id]);\n        });\n\n  };\n\n  clearDashboard = () => {\n\n    this.data = [];\n    this.refs.inputCity.value = \"\";\n    this.setState({id: 0});\n    this.setState({temp: null});\n    this.setState({name: null});\n\n  };\n\n\n\n  render() {\n    if ((this.temp === null) && (this.state.loading))\n    {\n      return null;\n    }\n    else\n    {\n      return (\n          <div className=\"App\">\n            <input onChange={this.inputRead} ref = \"inputCity\">\n\n            </input>\n            <input type = \"Button\" value=\"отправить\" onClick={this.requestCity}>\n            </input>\n\n            <input type = \"Button\" value=\"очистить\"  onClick={this.clearDashboard}>\n            </input>\n\n            <WeatherList data = {this.state.data}/>\n\n          </div>\n      );\n    }\n  }\n\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}